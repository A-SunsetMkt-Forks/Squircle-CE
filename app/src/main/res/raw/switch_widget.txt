//Switch Template:

var switched = false;
var button = new android.widget.Switch(ctx);
button.setText("Button");
button.setChecked(switched);
button.setOnCheckedChangeListener(new android.widget.CompoundButton.OnCheckedChangeListener({
    onCheckedChanged: function(){
        if(!switched){
            switched = true;
            //Your Code;
        } else {
            switched = false;
            //Your Code;
        }
        button.setChecked(switched);
    }
}));
layout.addView(button);